<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.324">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brandon Scott">
<meta name="dcterms.date" content="2025-07-14">

<title>The Bayesian Bandit - There and Back Again: Optimizing Home-Swapping on Kindred</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">The Bayesian Bandit</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://thebayesianbandit.com/causal_book/" rel="" target="">
 <span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/thebayesianbandit" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/brandon-scott-5a7139211/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">There and Back Again: Optimizing Home-Swapping on Kindred</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">operations</div>
                <div class="quarto-category">optimization</div>
                <div class="quarto-category">python</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Brandon Scott </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 14, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#history-and-strategy" id="toc-history-and-strategy" class="nav-link" data-scroll-target="#history-and-strategy">History and Strategy</a></li>
  <li><a href="#market-design" id="toc-market-design" class="nav-link" data-scroll-target="#market-design">Market Design</a>
  <ul class="collapse">
  <li><a href="#rule-1-host-to-travel" id="toc-rule-1-host-to-travel" class="nav-link" data-scroll-target="#rule-1-host-to-travel">Rule #1: Host to Travel</a></li>
  <li><a href="#rule-2-guest-control" id="toc-rule-2-guest-control" class="nav-link" data-scroll-target="#rule-2-guest-control">Rule #2: Guest Control</a></li>
  <li><a href="#rule-3-cost-allocation" id="toc-rule-3-cost-allocation" class="nav-link" data-scroll-target="#rule-3-cost-allocation">Rule #3: Cost Allocation</a></li>
  <li><a href="#key-assumptions" id="toc-key-assumptions" class="nav-link" data-scroll-target="#key-assumptions">Key Assumptions</a></li>
  </ul></li>
  <li><a href="#matching" id="toc-matching" class="nav-link" data-scroll-target="#matching">Matching</a>
  <ul class="collapse">
  <li><a href="#algorithmic-matching-via-gale-shapley" id="toc-algorithmic-matching-via-gale-shapley" class="nav-link" data-scroll-target="#algorithmic-matching-via-gale-shapley">Algorithmic Matching via Gale-Shapley</a></li>
  </ul></li>
  <li><a href="#matching-algorithm-design" id="toc-matching-algorithm-design" class="nav-link" data-scroll-target="#matching-algorithm-design">Matching Algorithm Design</a>
  <ul class="collapse">
  <li><a href="#calculating-similarity" id="toc-calculating-similarity" class="nav-link" data-scroll-target="#calculating-similarity">Calculating Similarity</a></li>
  <li><a href="#weighting-other-factors" id="toc-weighting-other-factors" class="nav-link" data-scroll-target="#weighting-other-factors">Weighting Other Factors</a></li>
  <li><a href="#connection-to-market-design" id="toc-connection-to-market-design" class="nav-link" data-scroll-target="#connection-to-market-design">Connection to Market Design</a></li>
  </ul></li>
  <li><a href="#demonstration" id="toc-demonstration" class="nav-link" data-scroll-target="#demonstration">Demonstration</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>In this post, we introduce <strong>Kindred</strong>, a new way to travel <span class="citation" data-cites="Hamadey2025Kindred"><a href="#ref-Hamadey2025Kindred" role="doc-biblioref">[1]</a></span>. We first espouse the company mission, vision, and values through the lens of business strategy. We continue this discussion by moving into the more technical details of how the platform operates via market design. This market design is then used to illustrate a prototype dispatch algorithm that Kindred could use to implement their strategies. We conclude by discussing potential next steps for the company.</p>
</section>
<section id="history-and-strategy" class="level1">
<h1>History and Strategy</h1>
<p>Kindred was founded by Tasneem Amina and Justine Palefsky in 2021. Their paths crossed early in their careers through a mutual mentor <span class="citation" data-cites="Hamadey2025Kindred"><a href="#ref-Hamadey2025Kindred" role="doc-biblioref">[1]</a></span>, and they soon decided to team up to make travel more “human” again. Today, Kindred has a network of over 170,000 members in more than 100 cities worldwide. While platforms like Airbnb and Vrbo encourage people to buy up properties to rent <span class="citation" data-cites="Proserpio2019Airbnb"><a href="#ref-Proserpio2019Airbnb" role="doc-biblioref">[2]</a></span>, Kindred shows there can be more trust and human connection in meaningful travel.</p>
<p>Kindred differentiates itself in the travel-lodging market by establishing itself as a <strong>home-swap platform</strong>. To travel on Kindred, members follow this process:</p>
<ol type="1">
<li>Sign up to become a member (each application goes through a vetting process).</li>
<li>Browse and select a home you’d like to visit.</li>
<li>Send a request with your proposed dates for either a home swap or a credit swap.</li>
<li>Once approved, cleaning services are arranged for both homes (if performing a home swap) before guests arrive and after guests leave. Guests pay for these cleaning services and a platform fee.</li>
</ol>
<p>The Kindred network is where the magic happens. Every Kindred user is also a host, sharing their home with other members. In fact, over 90% of Kindred listings are primary residences, fostering a trusting network. In exchange for hosting, members gain access to homes all over the world. Because each member is a host and travel is facilitated through home-swapping, Kindred members only pay for cleaning and platform fees, resulting in significantly lower travel costs. For example, a one-bedroom apartment in London might cost a Kindred member approximately $315 dollars, compared to $655 for a similar listing on Airbnb.</p>
<p>Kindred members can also travel via credit exchange. Members accrue credits by hosting other members (one night hosted equals one credit). Instead of a direct home swap, members can use these accumulated credits to travel to another Kindred home through the platform. Members still pay for the cleaning and platform fee.</p>
<p>In short, Kindred positions itself as an exclusive, vetted network that relies on the trust of members via home-swapping to drive down costs in order to provide meaningful, more “human” travel experiences.</p>
</section>
<section id="market-design" class="level1">
<h1>Market Design</h1>
<p>Market design is a multidisciplinary field within economics that deals with the rules of participation in marketplaces <span class="citation" data-cites="Athey2025MarketDesign"><a href="#ref-Athey2025MarketDesign" role="doc-biblioref">[3]</a></span>. A common example involves auction markets for online ads, where advertisers compete for ad locations on platforms like Facebook to get reader exposure. While we’ve discussed Kindred’s high-level strategy, we’ll now formally address the market design underpinning that strategy to define our platform’s rules.</p>
<p>The first step in market design is defining the objective – what we are trying to optimize. For Kindred, this could be the number of nights booked or the amount of money saved using the platform. However, according to Kindred’s strategy (and their website), their <strong>core objective is for people to “feel at home.”</strong> While this is a challenging goal to quantify, a <strong>reasonable proxy would be the number of home-swaps per member</strong>. A high number here would reflect members’ comfort and ease in traveling within the network, suggesting they truly feel at home. To ensure this consistent “at home” experience, Kindred vets each member application. While this rule may result in fewer network members, we prioritize optimizing for the “home feel,” anticipating it will encourage more home-swaps.</p>
<section id="rule-1-host-to-travel" class="level2">
<h2 class="anchored" data-anchor-id="rule-1-host-to-travel">Rule #1: Host to Travel</h2>
<p>Now that the objective is established and a rule defined for adding members to the market, we can outline the rules for players within that market.</p>
<p>First, to travel on Kindred, members must be willing to either host other members via a home swap or exchange accumulated credits for stays. This means a traveling member can contribute both demand and supply to the market (via home swap) or just demand (via credits).</p>
<p>However, to travel using credits, a member must have hosted at least the equivalent number of nights they wish to stay at their destination. Crucially, credits cannot be purchased or exchanged between members; they are granted by the platform as a reward for active participation in the network.</p>
<p>These rules establish the market’s fundamental supply and demand mechanics. While credits offer deferred reciprocity, allowing members to leverage past hosting efforts for future travel and significantly reducing friction, they introduce a tradeoff: we aren’t guaranteed a unit of supply for every unit of demand as we would be in a pure barter system. Nonetheless, since our goal is to ensure guests feel at home by minimizing travel friction, the credit system, alongside the barter system, reduces barriers to travel while still incentivizing members to host in order to travel.</p>
</section>
<section id="rule-2-guest-control" class="level2">
<h2 class="anchored" data-anchor-id="rule-2-guest-control">Rule #2: Guest Control</h2>
<p>The second rule within our market ensures members retain 100% control over who stays in their home. Even though the network is vetted upon application, members still have the power to approve or deny requests for home swaps or credit stays. This rule is specifically designed to promote supply. By giving members the final say on guests, they’re more likely to feel comfortable and willing to list their homes.</p>
<p>While members have the power to approve or deny requests, they are still motivated to host guests due to rule #1. The more guests a member hosts, the more credits they earn and the more they can travel without a perfect house-swap match.</p>
<p>The tradeoff with this rule is increased matching complexity. While we can facilitate matches between members seeking similar location swaps, the ultimate power of approval rests with the members. Therefore, our matching service must provide each member with relevant information to guide their decision-making.</p>
</section>
<section id="rule-3-cost-allocation" class="level2">
<h2 class="anchored" data-anchor-id="rule-3-cost-allocation">Rule #3: Cost Allocation</h2>
<p>The final rule we cover addresses how costs are allocated within the network. Costs are determined by the two travel propositions: a direct home swap with another member or using accrued credits to stay at a Kindred member residence. For a direct home swap, each member involved pays the cleaning fees for the location they are staying at (both before and after their visit), as well as a platform fee. In the credit exchange scenario, members must pay one credit per night of their stay, in addition to the cleaning and platform fees.</p>
<p>This rule further incentivizes members to host, as they don’t have to worry about the hassle of pre- or post-guest cleaning. Furthermore, members can expect the same seamless experience when traveling, knowing their destination will be cleaned before and after their stay. Lastly, this rule provides a transparent fee structure, ensuring members understand the costs associated with both travel options on the network.</p>
</section>
<section id="key-assumptions" class="level2">
<h2 class="anchored" data-anchor-id="key-assumptions">Key Assumptions</h2>
<p>The rules of our marketplace are implemented with key assumptions in mind. These are enumerated below.</p>
<ol type="1">
<li>Kindred members desire to increase their travel by entering a network with clear expectations.</li>
<li>Kindred members share their true travel preferences.</li>
<li>Kindred members want to retain control over who stays at their residence.</li>
<li>Members will increase their trust in the platform with continued use.</li>
</ol>
<p>In short, the assumptions state that we designed the market to work for members who operate under these assumptions. For example, we don’t expect someone to search for home-swap opportunities in NYC if they truly don’t want to go to NYC. Essentially, we expect those who want to use Kindred will desire to use the platform to maximize their travel utility within the parameters we set in this market.</p>
</section>
</section>
<section id="matching" class="level1">
<h1>Matching</h1>
<p>Our marketplace now has established rules that provide guidance on the services we create to reduce friction for our users and encourage activity for them. One key component among all of our rules is <strong>the importance of matching</strong>. Members want to find the right property during the right time frame with the right people (for either a swap or a credit stay approval). This user journey is illustrated in <a href="#fig-user-1">Figure&nbsp;4.1</a>.</p>
<div id="fig-user-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="kindred_user_journ.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4.1: Kindred Member Journey</figcaption><p></p>
</figure>
</div>
<p>Matching addresses the second step and associated transition in <a href="#fig-user-1">Figure&nbsp;4.1</a>. We need a process that reduces friction for users, helping them find ideal locations that align with their preferences and have a high probability of acceptance. This highlights the importance of our market design and underlying assumptions. The market is designed to encourage true preference revelation among members. If our assumption holds true that members will follow this design, we can implement systems that effectively help them find what they’re looking for. To enhance this process, we’ve magnified step two from <a href="#fig-user-1">Figure&nbsp;4.1</a> in <a href="#fig-user-2">Figure&nbsp;4.2</a> to illustrate potential system design.</p>
<div id="fig-user-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="user_jour_2.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;4.2: Member Attempting to Match</figcaption><p></p>
</figure>
</div>
<p>As we can see in <a href="#fig-user-2">Figure&nbsp;4.2</a>, each member in the network has their own preferences they are trying to align with other members. Realistically speaking, with the current size of the Kindred network, it would be quite difficult to find someone with your exact preferences. The current process of finding potential matches is enumerated below.</p>
<ol type="1">
<li>Member logs onto Kindred</li>
<li>Uses the browse option to find locations according to their preferences</li>
<li>Sends requests to locations they are interested in and waits for response</li>
<li>If request is approved, preparations are arranged through the platform</li>
</ol>
<p>While the above process is intuitive and useful for users, we can enhance this by providing algorithms that reduce the friction of finding potential matches.</p>
<section id="algorithmic-matching-via-gale-shapley" class="level2">
<h2 class="anchored" data-anchor-id="algorithmic-matching-via-gale-shapley">Algorithmic Matching via Gale-Shapley</h2>
<p>The process of finding matches within our market design can be greatly enhanced via <strong>game theory</strong> <span class="citation" data-cites="VonNeumann1944"><a href="#ref-VonNeumann1944" role="doc-biblioref">[4]</a></span>. In our network, we have agents whom we assume are rational and possess weighted preferences. They strategically share this information on the platform to find their ideal matches. Once they find a suitable match, they move forward with their travel plans. This dynamic is precisely what game theory studies.</p>
<p>In our network, as illustrated in <a href="#fig-user-2">Figure&nbsp;4.2</a>, we can encounter overlapping scenarios. For instance, a user desiring a 21-day stay might match with one member hosting for 15 days and another for 6. Simultaneously, they might be willing to host two members themselves during that period – one for 14 days and another for 7. This type of overlap is characteristic of <strong>two-sided matching markets</strong> <span class="citation" data-cites="Gale1962"><a href="#ref-Gale1962" role="doc-biblioref">[5]</a></span>. The algorithm commonly used to address such problems is known as the <strong>Gale-Shapley algorithm</strong> <span class="citation" data-cites="Gale1962"><a href="#ref-Gale1962" role="doc-biblioref">[5]</a></span>.</p>
<p>The Gale-Shapley algorithm is used to find stable matches among agents. This means finding matches that sufficiently address their needs, to the point where they wouldn’t gain additional utility by seeking a different match. While this algorithm is primarily applied in scenarios with distinct sets of proposers and receivers, we can extend it to our situation where agents act as both proposers and receivers.</p>
</section>
</section>
<section id="matching-algorithm-design" class="level1">
<h1>Matching Algorithm Design</h1>
<p>Our matching algorithm combines principles from Gale-Shapley, DoorDash’s dispatch algorithm <span class="citation" data-cites="doordash_optimization_2020"><a href="#ref-doordash_optimization_2020" role="doc-biblioref">[6]</a></span>, and Airbnb’s listing recommendation algorithm <span class="citation" data-cites="Grbovic2018Listing"><a href="#ref-Grbovic2018Listing" role="doc-biblioref">[7]</a></span>. The algorithm is enumerated below.</p>
<ol type="1">
<li>User inputs their current travel preferences</li>
<li>Our matching algorithm calculates the closest matches and ranks them accordingly</li>
<li>The scores from these listings are extracted and used in a weighted sum</li>
<li>Weighted sum is calculated using other business priority logic (response wait time, probability of acceptance, user rating, etc)</li>
<li>The listings are then shown in the order of the weighted sum in descending order (i.e.&nbsp;highest score is best)</li>
</ol>
<section id="calculating-similarity" class="level2">
<h2 class="anchored" data-anchor-id="calculating-similarity">Calculating Similarity</h2>
<p>The first step in the algorithm is to calculate similarity scores between a user’s search criteria and our set of listings. For simplicity in this prototype, let’s assume a user can only search or request listings based on: <strong>location, duration, and number of bedrooms</strong>. We need to identify which listings in our dataset best correspond with the user’s search. Let <span class="math inline">\(L\)</span> represent the set of all listings in our Kindred network. The initial step for calculating similarity involves filtering <span class="math inline">\(L\)</span> to create a subset containing only listings within the specified location. (Note: We assume all listings are properly geotagged, accurately representing their respective cities.)</p>
<p>The second step is to calculate the similarity in date availability. To do this, we can use the <strong>Jaccard Similarity</strong> <span class="citation" data-cites="jaccard1901distribution"><a href="#ref-jaccard1901distribution" role="doc-biblioref">[8]</a></span> measure to get the similarity between date ranges. This is illustrated in <a href="#eq-jac-1">Equation&nbsp;5.1</a>.</p>
<p><span id="eq-jac-1"><span class="math display">\[
J(A, B) = \frac{|A \cap B|}{|A \cup B|}
\tag{5.1}\]</span></span></p>
<p>The numerator represents the intersection of our date overlap—that is, the number of days our date ranges coincide. The denominator is the union of our date ranges, covering the period from the earliest start date to the latest end date. A perfect match would yield a similarity score of 1, while any less-than-perfect match would naturally result in a lower score.</p>
<p>The last step is to calculate the similarity in number of bedrooms. A simple measure for this would be <strong>absolute difference</strong>, as shown in <a href="#eq-abs-1">Equation&nbsp;5.2</a>.</p>
<p><span id="eq-abs-1"><span class="math display">\[
S(A, B) = 1 - \frac{|A - B|}{max - min}
\tag{5.2}\]</span></span></p>
<p><a href="#eq-abs-1">Equation&nbsp;5.2</a> measures the difference between a perfect match (1) and the absolute difference between our search request and a listing’s offering, all normalized by a maximum range.</p>
<p>Our three similarity scores are then combined into a weighted sum function to calculate an overall similarity score. This is shown in <a href="#eq-sim-1">Equation&nbsp;5.3</a>.</p>
<p><span id="eq-sim-1"><span class="math display">\[
\text{Total Similarity Score} = w^{T}X
\tag{5.3}\]</span></span></p>
<p><span class="math inline">\(X\)</span> is our search criteria vector and <span class="math inline">\(w^{T}\)</span> is our weight vector. This weight vector corresponds to the priority we place on the search criteria. For example, in our criteria, <span class="math inline">\(w^{T}\)</span> might be <span class="math inline">\([.7, .3]\)</span>. This would mean that we put the most weight on our date overlap similarity score, followed by number of bedroom similarity. These scores are then ranked in descending order.</p>
</section>
<section id="weighting-other-factors" class="level2">
<h2 class="anchored" data-anchor-id="weighting-other-factors">Weighting Other Factors</h2>
<p>After calculating listing similarities, we also need to incorporate other metrics that enhance the user’s finding experience. For this prototype, we focus on three key metrics: queue length (the number of requests for a current listing within a given date range), host time to response, and listing rating. We prioritize these metrics to address supply-demand balance (ensuring listings get booked), connect users with responsive hosts, and pair them with listings that have provided positive experiences in the past. This provides an overall listing score shown in <a href="#eq-score-1">Equation&nbsp;5.4</a>.</p>
<p><span id="eq-score-1"><span class="math display">\[
\text{Listing Score} = w^{T}X
\tag{5.4}\]</span></span></p>
<p>Just as in <a href="#eq-sim-1">Equation&nbsp;5.3</a>, we use a weighted sum in <a href="#eq-score-1">Equation&nbsp;5.4</a> to calculate the listing score. This listing score incorporates both the similarity score from <a href="#eq-sim-1">Equation&nbsp;5.3</a> and the other core experience metrics we explained earlier in this section. Once all listing scores are calculated, we rank these in descending order and present them to the user.</p>
</section>
<section id="connection-to-market-design" class="level2">
<h2 class="anchored" data-anchor-id="connection-to-market-design">Connection to Market Design</h2>
<p>Overall, while our algorithm is a simple prototype, it captures the essence of how we designed our market. It encourages users to accurately share their preferences (such as location and travel dates) while simultaneously encouraging hosts to do the same. Through this mutual information sharing, we rank a searcher’s preferences against those of hosts. We then return the top option for a searcher, along with a list of other ranked choices. Using these core principles, we can eventually extend this algorithm to become much more sophisticated and capable of handling matching at scale for a platform like Kindred.</p>
</section>
</section>
<section id="demonstration" class="level1">
<h1>Demonstration</h1>
<p>In this section, we demonstrate a simple example of the algorithm in practice. We take the perspective of a guest looking for a match with the following information.</p>
<ol type="1">
<li>City ID: 3</li>
<li>Date Range: (2024-07-04, 2024-07-12)</li>
<li>Number of Bedrooms: 1</li>
</ol>
<p>Our simulation compares these preferences against one hundred listings in the network. The algorithm first filters the dataset to include only cities corresponding to the user’s preference. It then proceeds to find the similarity between the date range and the number of bedrooms. The weights for these scores in the initial similarity calculation are <span class="math inline">\([.7, .3]\)</span> respectively.</p>
<p>After calculating the similarity score, we compute a listing score using queue length, response time, and rating. These individual scores, along with the initial similarity score, are normalized within their respective ranges to ensure equal scaling. The weights for the combined listing score are <span class="math inline">\([.4, .3, .2, .1]\)</span> respectively, reflecting the priority given to similarity score, queue length, response time, and rating.</p>
<p>Below is the output for the top ten listings for our guest.</p>
<div class="cell" data-tags="[]" data-execution_count="60">
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>[(33, 0.22612141893132756),
 (8, 0.12977247904917524),
 (72, 0.12976891406493157),
 (32, 0.09479958388340516),
 (60, 0.08957313358870844),
 (14, 0.05765653850182544),
 (18, 0.05343156854054164),
 (76, 0.04911126057985683),
 (17, 0.03461826470415198),
 (97, 0.008722850515238703)]</code></pre>
</div>
</div>
<p>The highest-ranked listing stands far above the rest, followed by what is essentially a tie between the second and third. The remaining listings quickly fall off, trending toward zero. Below is the information about the highest-ranked listing.</p>
<div class="cell" data-tags="[]" data-execution_count="68">
<div class="cell-output cell-output-stdout">
<pre><code>City ID: 3
Date Range: (datetime.date(2024, 7, 3), datetime.date(2024, 7, 10))
Number of Bedrooms: 3
Number of Requests: 0.3410663510502585
Response Time: 0.11347352124058907
Rating: 0.9246936182785628</code></pre>
</div>
</div>
<p>The algorithm fairly well captured a listing that significantly overlaps with the guest’s desired date range. While the number of bedrooms is questionable, it’s an acceptable outcome for now, given the algorithm’s heavy weighting towards date range overlap.</p>
<p>The number of requests, response time, and rating are all normalized values, yet still offer clear insights. The low number of requests indicates this listing isn’t heavily in demand. The response time suggests the host is very prompt, which our prototype algorithm aims to encourage. Finally, the favorable rating is another positive for the guest, appearing to be on the higher end of the spectrum. We also present the second best listing below.</p>
<div class="cell" data-tags="[]" data-execution_count="69">
<div class="cell-output cell-output-stdout">
<pre><code>City ID: 3
Date Range: (datetime.date(2024, 7, 4), datetime.date(2024, 7, 11))
Number of Bedrooms: 4
Number of Requests: 0.18223608778806233
Response Time: 0.7553614103176525
Rating: 0.4251558744912447</code></pre>
</div>
</div>
<p>The date range of this second listing appears to be slightly more aligned with the user’s preferences, but the algorithm favored the first due to the greater discrepancy in bedrooms. This is a valuable insight for future hyperparameter tuning. Furthermore, while the requests are lower, the response time is much higher, and the listing has a significantly lower rating. We can attribute the even lower score of this listing to the weighting priorities in the listing score metric.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This post examined the company Kindred through the lens of business strategy, economics, and algorithm development. We demonstrated how Kindred provides a unique value proposition to the travel-lodging market. We then proceeded to engineer the market through careful market design, encouraging active involvement in the network. We concluded by presenting a high-level prototype of how an algorithm can be designed and implemented to optimize our market design.</p>
<p>We hope this post not only demonstrated the power of the intersection between strategy, economics, and algorithms, but also introduced you to an innovative new company that’s poised to help travelers feel they have a home anywhere they go.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body" role="list">
<div id="ref-Hamadey2025Kindred" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">G. Hamadey, <span>“Kindred house swapping: How it all began,”</span> <em>Kindred Blog</em>, 2025, Accessed: Jul. 18, 2025. [Online]. Available: <a href="https://blog.livekindred.com/kindred-house-swapping-how-it-all-began/?lng=en">https://blog.livekindred.com/kindred-house-swapping-how-it-all-began/?lng=en</a></div>
</div>
<div id="ref-Proserpio2019Airbnb" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">D. Proserpio and xxx xxx, <span>“The effect of home-sharing on house prices and rents: Evidence from airbnb,”</span> <em>Wharton Marketing Department Working Paper</em>, 2019, Accessed: Jul. 18, 2025. [Online]. Available: <a href="https://marketing.wharton.upenn.edu/wp-content/uploads/2019/08/09.05.2019-Proserpio-Davide-Paper.pdf">https://marketing.wharton.upenn.edu/wp-content/uploads/2019/08/09.05.2019-Proserpio-Davide-Paper.pdf</a></div>
</div>
<div id="ref-Athey2025MarketDesign" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">S. Athey, <span>“Economics 980: Topics in market design.”</span> Accessed: Jul. 18, 2025. [Online]. Available: <a href="https://gsb-faculty.stanford.edu/susan-athey/economics-980-topics-market-design/">https://gsb-faculty.stanford.edu/susan-athey/economics-980-topics-market-design/</a></div>
</div>
<div id="ref-VonNeumann1944" class="csl-entry" role="listitem">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">J. Von Neumann and O. Morgenstern, <em>Theory of games and economic behavior</em>. Princeton, NJ: Princeton University Press, 1944.</div>
</div>
<div id="ref-Gale1962" class="csl-entry" role="listitem">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">D. Gale and L. S. Shapley, <span>“College admissions and the stability of marriage,”</span> <em>The American Mathematical Monthly</em>, vol. 69, no. 1, pp. 9–15, 1962.</div>
</div>
<div id="ref-doordash_optimization_2020" class="csl-entry" role="listitem">
<div class="csl-left-margin">[6] </div><div class="csl-right-inline">Holly Jin, <span>“<span class="nocase">Next-Generation Optimization for Dasher Dispatch at DoorDash</span>,”</span> <em><span>DoorDash Engineering Blog</span></em>, 2020.</div>
</div>
<div id="ref-Grbovic2018Listing" class="csl-entry" role="listitem">
<div class="csl-left-margin">[7] </div><div class="csl-right-inline">M. Grbovic, H. Cheng, Q. Zhang, L. Yang, P. Siclait, and M. Jones, <span>“Listing embeddings in search ranking,”</span> <em>The Airbnb Tech Blog</em>, Mar. 2018, Available: <a href="https://medium.com/airbnb-engineering/listing-embeddings-for-similar-listing-recommendations-and-real-time-personalization-in-search-601172f7603e">https://medium.com/airbnb-engineering/listing-embeddings-for-similar-listing-recommendations-and-real-time-personalization-in-search-601172f7603e</a></div>
</div>
<div id="ref-jaccard1901distribution" class="csl-entry" role="listitem">
<div class="csl-left-margin">[8] </div><div class="csl-right-inline">P. Jaccard, <span>“Distribution de la flore alpine dans le bassin des dranses et dans quelques r<span>é</span>gions voisines,”</span> <em>Bulletin de la Soci<span>é</span>t<span>é</span> Vaudoise des Sciences Naturelles</em>, vol. 37, pp. 241–272, 1901.</div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>